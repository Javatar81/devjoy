kind: CustomResourceDefinition
apiVersion: apiextensions.k8s.io/v1
metadata:
  name: keycloakclients.keycloak.org
spec:
  group: keycloak.org
  names:
    plural: keycloakclients
    singular: keycloakclient
    kind: KeycloakClient
    listKind: KeycloakClientList
  scope: Namespaced
  versions:
    - name: v1alpha1
      served: true
      storage: true
      schema:
        openAPIV3Schema:
          description: KeycloakClient is the Schema for the keycloakclients API.
          type: object
          properties:
            apiVersion:
              description: >-
                APIVersion defines the versioned schema of this representation
                of an object. Servers should convert recognized schemas to the
                latest internal value, and may reject unrecognized values. More
                info:
                https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
              type: string
            kind:
              description: >-
                Kind is a string value representing the REST resource this
                object represents. Servers may infer this from the endpoint the
                client submits requests to. Cannot be updated. In CamelCase.
                More info:
                https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
              type: string
            metadata:
              type: object
            spec:
              description: KeycloakClientSpec defines the desired state of KeycloakClient.
              type: object
              required:
                - client
                - realmSelector
              properties:
                client:
                  description: Keycloak Client REST object.
                  type: object
                  required:
                    - clientId
                  properties:
                    adminUrl:
                      description: Application Admin URL.
                      type: string
                    enabled:
                      description: Client enabled flag.
                      type: boolean
                    clientAuthenticatorType:
                      description: What Client authentication type to use.
                      type: string
                    fullScopeAllowed:
                      description: True if Full Scope is allowed.
                      type: boolean
                    useTemplateConfig:
                      description: True to use a Template Config.
                      type: boolean
                    redirectUris:
                      description: A list of valid Redirection URLs.
                      type: array
                      items:
                        type: string
                    frontchannelLogout:
                      description: True if this client supports Front Channel logout.
                      type: boolean
                    access:
                      description: Access options.
                      type: object
                      additionalProperties:
                        type: boolean
                    serviceAccountsEnabled:
                      description: True if Service Accounts are enabled.
                      type: boolean
                    clientId:
                      description: Client ID.
                      type: string
                    authenticationFlowBindingOverrides:
                      description: Authentication Flow Binding Overrides.
                      type: object
                      additionalProperties:
                        type: string
                    authorizationServicesEnabled:
                      description: >-
                        True if fine-grained authorization support is enabled
                        for this client.
                      type: boolean
                    optionalClientScopes:
                      description: >-
                        A list of optional client scopes. Optional client scopes
                        are applied when issuing tokens for this client, but
                        only when they are requested by the scope parameter in
                        the OpenID Connect authorization request.
                      type: array
                      items:
                        type: string
                    defaultClientScopes:
                      description: >-
                        A list of default client scopes. Default client scopes
                        are always applied when issuing OpenID Connect tokens or
                        SAML assertions for this client.
                      type: array
                      items:
                        type: string
                    name:
                      description: Client name.
                      type: string
                    rootUrl:
                      description: Application root URL.
                      type: string
                    bearerOnly:
                      description: True if a client supports only Bearer Tokens.
                      type: boolean
                    implicitFlowEnabled:
                      description: True if Implicit flow is enabled.
                      type: boolean
                    secret:
                      description: >-
                        Client Secret. The Operator will automatically create a
                        Secret based on this value.
                      type: string
                    useTemplateMappers:
                      description: True to use Template Mappers.
                      type: boolean
                    notBefore:
                      description: Not Before setting.
                      type: integer
                    nodeReRegistrationTimeout:
                      description: Node registration timeout.
                      type: integer
                    useTemplateScope:
                      description: True to use Template Scope.
                      type: boolean
                    publicClient:
                      description: True if this is a public Client.
                      type: boolean
                    standardFlowEnabled:
                      description: True if Standard flow is enabled.
                      type: boolean
                    attributes:
                      description: Client Attributes.
                      type: object
                      additionalProperties:
                        type: string
                    protocol:
                      description: Protocol used for this Client.
                      type: string
                    webOrigins:
                      description: A list of valid Web Origins.
                      type: array
                      items:
                        type: string
                    consentRequired:
                      description: True if Consent Screen is required.
                      type: boolean
                    protocolMappers:
                      description: Protocol Mappers.
                      type: array
                      items:
                        type: object
                        properties:
                          config:
                            description: Config options.
                            type: object
                            additionalProperties:
                              type: string
                          consentRequired:
                            description: True if Consent Screen is required.
                            type: boolean
                          consentText:
                            description: Text to use for displaying Consent Screen.
                            type: string
                          id:
                            description: Protocol Mapper ID.
                            type: string
                          name:
                            description: Protocol Mapper Name.
                            type: string
                          protocol:
                            description: Protocol to use.
                            type: string
                          protocolMapper:
                            description: Protocol Mapper to use
                            type: string
                    id:
                      description: 'Client ID. If not specified, automatically generated.'
                      type: string
                    defaultRoles:
                      description: Default Client roles.
                      type: array
                      items:
                        type: string
                    authorizationSettings:
                      description: Authorization settings for this resource server.
                      type: object
                      properties:
                        allowRemoteResourceManagement:
                          description: >-
                            True if resources should be managed remotely by the
                            resource server.
                          type: boolean
                        resources:
                          description: Resources.
                          type: array
                          items:
                            description: >-
                              https://www.keycloak.org/docs-api/12.0/rest-api/index.html#_resourcerepresentation
                            type: object
                            properties:
                              icon_uri:
                                description: An URI pointing to an icon.
                                type: string
                              uris:
                                description: Set of URIs which are protected by resource.
                                type: array
                                items:
                                  type: string
                              name:
                                description: >-
                                  A unique name for this resource. The name can
                                  be used to uniquely identify a resource,
                                  useful when querying for a specific resource.
                                type: string
                              displayName:
                                description: >-
                                  A unique name for this resource. The name can
                                  be used to uniquely identify a resource,
                                  useful when querying for a specific resource.
                                type: string
                              ownerManagedAccess:
                                description: >-
                                  True if the access to this resource can be
                                  managed by the resource owner.
                                type: boolean
                              attributes:
                                description: The attributes associated with the resource.
                                type: object
                                additionalProperties:
                                  type: string
                              _id:
                                description: ID.
                                type: string
                              type:
                                description: >-
                                  The type of this resource. It can be used to
                                  group different resource instances with the
                                  same type.
                                type: string
                              scopes:
                                description: The scopes associated with this resource.
                                type: array
                                items:
                                  x-kubernetes-preserve-unknown-fields: true
                        clientId:
                          description: Client ID.
                          type: string
                        name:
                          description: Name.
                          type: string
                        decisionStrategy:
                          description: >-
                            The decision strategy dictates how permissions are
                            evaluated and how a final decision is obtained.
                            'Affirmative' means that at least one permission
                            must evaluate to a positive decision in order to
                            grant access to a resource and its scopes.
                            'Unanimous' means that all permissions must evaluate
                            to a positive decision in order for the final
                            decision to be also positive.
                          type: string
                        policies:
                          description: Policies.
                          type: array
                          items:
                            description: >-
                              https://www.keycloak.org/docs-api/12.0/rest-api/index.html#_policyrepresentation
                            type: object
                            properties:
                              config:
                                description: Config.
                                type: object
                                additionalProperties:
                                  type: string
                              resources:
                                description: Resources.
                                type: array
                                items:
                                  type: string
                              scopesData:
                                description: Scopes Data.
                                type: array
                                items:
                                  x-kubernetes-preserve-unknown-fields: true
                              name:
                                description: The name of this policy.
                                type: string
                              resourcesData:
                                description: Resources Data.
                                type: array
                                items:
                                  description: >-
                                    https://www.keycloak.org/docs-api/12.0/rest-api/index.html#_resourcerepresentation
                                  type: object
                                  properties:
                                    icon_uri:
                                      description: An URI pointing to an icon.
                                      type: string
                                    uris:
                                      description: >-
                                        Set of URIs which are protected by
                                        resource.
                                      type: array
                                      items:
                                        type: string
                                    name:
                                      description: >-
                                        A unique name for this resource. The
                                        name can be used to uniquely identify a
                                        resource, useful when querying for a
                                        specific resource.
                                      type: string
                                    displayName:
                                      description: >-
                                        A unique name for this resource. The
                                        name can be used to uniquely identify a
                                        resource, useful when querying for a
                                        specific resource.
                                      type: string
                                    ownerManagedAccess:
                                      description: >-
                                        True if the access to this resource can
                                        be managed by the resource owner.
                                      type: boolean
                                    attributes:
                                      description: >-
                                        The attributes associated with the
                                        resource.
                                      type: object
                                      additionalProperties:
                                        type: string
                                    _id:
                                      description: ID.
                                      type: string
                                    type:
                                      description: >-
                                        The type of this resource. It can be
                                        used to group different resource
                                        instances with the same type.
                                      type: string
                                    scopes:
                                      description: >-
                                        The scopes associated with this
                                        resource.
                                      type: array
                                      items:
                                        x-kubernetes-preserve-unknown-fields: true
                              decisionStrategy:
                                description: >-
                                  The decision strategy dictates how the
                                  policies associated with a given permission
                                  are evaluated and how a final decision is
                                  obtained. 'Affirmative' means that at least
                                  one policy must evaluate to a positive
                                  decision in order for the final decision to be
                                  also positive. 'Unanimous' means that all
                                  policies must evaluate to a positive decision
                                  in order for the final decision to be also
                                  positive. 'Consensus' means that the number of
                                  positive decisions must be greater than the
                                  number of negative decisions. If the number of
                                  positive and negative is the same, the final
                                  decision will be negative.
                                type: string
                              policies:
                                description: Policies.
                                type: array
                                items:
                                  type: string
                              owner:
                                description: Owner.
                                type: string
                              type:
                                description: Type.
                                type: string
                              id:
                                description: ID.
                                type: string
                              description:
                                description: A description for this policy.
                                type: string
                              logic:
                                description: >-
                                  The logic dictates how the policy decision
                                  should be made. If 'Positive', the resulting
                                  effect (permit or deny) obtained during the
                                  evaluation of this policy will be used to
                                  perform a decision. If 'Negative', the
                                  resulting effect will be negated, in other
                                  words, a permit becomes a deny and vice-versa.
                                type: string
                              scopes:
                                description: Scopes.
                                type: array
                                items:
                                  type: string
                        policyEnforcementMode:
                          description: >-
                            The policy enforcement mode dictates how policies
                            are enforced when evaluating authorization requests.
                            'Enforcing' means requests are denied by default
                            even when there is no policy associated with a given
                            resource. 'Permissive' means requests are allowed
                            even when there is no policy associated with a given
                            resource. 'Disabled' completely disables the
                            evaluation of policies and allows access to any
                            resource.
                          type: string
                        id:
                          description: ID.
                          type: string
                        scopes:
                          description: Authorization Scopes.
                          type: array
                          items:
                            description: >-
                              https://www.keycloak.org/docs-api/12.0/rest-api/index.html#_scoperepresentation
                            type: object
                            properties:
                              displayName:
                                description: >-
                                  A unique name for this scope. The name can be
                                  used to uniquely identify a scope, useful when
                                  querying for a specific scope.
                                type: string
                              iconUri:
                                description: An URI pointing to an icon.
                                type: string
                              id:
                                description: ID.
                                type: string
                              name:
                                description: >-
                                  A unique name for this scope. The name can be
                                  used to uniquely identify a scope, useful when
                                  querying for a specific scope.
                                type: string
                              policies:
                                description: Policies.
                                type: array
                                items:
                                  description: >-
                                    https://www.keycloak.org/docs-api/12.0/rest-api/index.html#_policyrepresentation
                                  type: object
                                  properties:
                                    config:
                                      description: Config.
                                      type: object
                                      additionalProperties:
                                        type: string
                                    resources:
                                      description: Resources.
                                      type: array
                                      items:
                                        type: string
                                    scopesData:
                                      description: Scopes Data.
                                      type: array
                                      items:
                                        x-kubernetes-preserve-unknown-fields: true
                                    name:
                                      description: The name of this policy.
                                      type: string
                                    resourcesData:
                                      description: Resources Data.
                                      type: array
                                      items:
                                        description: >-
                                          https://www.keycloak.org/docs-api/12.0/rest-api/index.html#_resourcerepresentation
                                        type: object
                                        properties:
                                          icon_uri:
                                            description: An URI pointing to an icon.
                                            type: string
                                          uris:
                                            description: >-
                                              Set of URIs which are protected by
                                              resource.
                                            type: array
                                            items:
                                              type: string
                                          name:
                                            description: >-
                                              A unique name for this resource. The
                                              name can be used to uniquely identify a
                                              resource, useful when querying for a
                                              specific resource.
                                            type: string
                                          displayName:
                                            description: >-
                                              A unique name for this resource. The
                                              name can be used to uniquely identify a
                                              resource, useful when querying for a
                                              specific resource.
                                            type: string
                                          ownerManagedAccess:
                                            description: >-
                                              True if the access to this resource can
                                              be managed by the resource owner.
                                            type: boolean
                                          attributes:
                                            description: >-
                                              The attributes associated with the
                                              resource.
                                            type: object
                                            additionalProperties:
                                              type: string
                                          _id:
                                            description: ID.
                                            type: string
                                          type:
                                            description: >-
                                              The type of this resource. It can be
                                              used to group different resource
                                              instances with the same type.
                                            type: string
                                          scopes:
                                            description: >-
                                              The scopes associated with this
                                              resource.
                                            type: array
                                            items:
                                              x-kubernetes-preserve-unknown-fields: true
                                    decisionStrategy:
                                      description: >-
                                        The decision strategy dictates how the
                                        policies associated with a given
                                        permission are evaluated and how a final
                                        decision is obtained. 'Affirmative'
                                        means that at least one policy must
                                        evaluate to a positive decision in order
                                        for the final decision to be also
                                        positive. 'Unanimous' means that all
                                        policies must evaluate to a positive
                                        decision in order for the final decision
                                        to be also positive. 'Consensus' means
                                        that the number of positive decisions
                                        must be greater than the number of
                                        negative decisions. If the number of
                                        positive and negative is the same, the
                                        final decision will be negative.
                                      type: string
                                    policies:
                                      description: Policies.
                                      type: array
                                      items:
                                        type: string
                                    owner:
                                      description: Owner.
                                      type: string
                                    type:
                                      description: Type.
                                      type: string
                                    id:
                                      description: ID.
                                      type: string
                                    description:
                                      description: A description for this policy.
                                      type: string
                                    logic:
                                      description: >-
                                        The logic dictates how the policy
                                        decision should be made. If 'Positive',
                                        the resulting effect (permit or deny)
                                        obtained during the evaluation of this
                                        policy will be used to perform a
                                        decision. If 'Negative', the resulting
                                        effect will be negated, in other words,
                                        a permit becomes a deny and vice-versa.
                                      type: string
                                    scopes:
                                      description: Scopes.
                                      type: array
                                      items:
                                        type: string
                              resources:
                                description: Resources.
                                type: array
                                items:
                                  description: >-
                                    https://www.keycloak.org/docs-api/12.0/rest-api/index.html#_resourcerepresentation
                                  type: object
                                  properties:
                                    icon_uri:
                                      description: An URI pointing to an icon.
                                      type: string
                                    uris:
                                      description: >-
                                        Set of URIs which are protected by
                                        resource.
                                      type: array
                                      items:
                                        type: string
                                    name:
                                      description: >-
                                        A unique name for this resource. The
                                        name can be used to uniquely identify a
                                        resource, useful when querying for a
                                        specific resource.
                                      type: string
                                    displayName:
                                      description: >-
                                        A unique name for this resource. The
                                        name can be used to uniquely identify a
                                        resource, useful when querying for a
                                        specific resource.
                                      type: string
                                    ownerManagedAccess:
                                      description: >-
                                        True if the access to this resource can
                                        be managed by the resource owner.
                                      type: boolean
                                    attributes:
                                      description: >-
                                        The attributes associated with the
                                        resource.
                                      type: object
                                      additionalProperties:
                                        type: string
                                    _id:
                                      description: ID.
                                      type: string
                                    type:
                                      description: >-
                                        The type of this resource. It can be
                                        used to group different resource
                                        instances with the same type.
                                      type: string
                                    scopes:
                                      description: >-
                                        The scopes associated with this
                                        resource.
                                      type: array
                                      items:
                                        x-kubernetes-preserve-unknown-fields: true
                    description:
                      description: Client description.
                      type: string
                    directAccessGrantsEnabled:
                      description: True if Direct Grant is enabled.
                      type: boolean
                    baseUrl:
                      description: Application base URL.
                      type: string
                    surrogateAuthRequired:
                      description: Surrogate Authentication Required option.
                      type: boolean
                realmSelector:
                  description: Selector for looking up KeycloakRealm Custom Resources.
                  type: object
                  properties:
                    matchExpressions:
                      description: >-
                        matchExpressions is a list of label selector
                        requirements. The requirements are ANDed.
                      type: array
                      items:
                        description: >-
                          A label selector requirement is a selector that
                          contains values, a key, and an operator that relates
                          the key and values.
                        type: object
                        required:
                          - key
                          - operator
                        properties:
                          key:
                            description: key is the label key that the selector applies to.
                            type: string
                          operator:
                            description: >-
                              operator represents a key's relationship to a set
                              of values. Valid operators are In, NotIn, Exists
                              and DoesNotExist.
                            type: string
                          values:
                            description: >-
                              values is an array of string values. If the
                              operator is In or NotIn, the values array must be
                              non-empty. If the operator is Exists or
                              DoesNotExist, the values array must be empty. This
                              array is replaced during a strategic merge patch.
                            type: array
                            items:
                              type: string
                    matchLabels:
                      description: >-
                        matchLabels is a map of {key,value} pairs. A single
                        {key,value} in the matchLabels map is equivalent to an
                        element of matchExpressions, whose key field is "key",
                        the operator is "In", and the values array contains only
                        "value". The requirements are ANDed.
                      type: object
                      additionalProperties:
                        type: string
                roles:
                  description: Client Roles
                  type: array
                  items:
                    description: >-
                      https://www.keycloak.org/docs-api/11.0/rest-api/index.html#_rolerepresentation
                    type: object
                    required:
                      - name
                    properties:
                      attributes:
                        description: Role Attributes
                        type: object
                        additionalProperties:
                          type: array
                          items:
                            type: string
                      clientRole:
                        description: Client Role
                        type: boolean
                      composite:
                        description: Composite
                        type: boolean
                      composites:
                        description: Composites
                        type: object
                        properties:
                          client:
                            description: 'Map client => []role'
                            type: object
                            additionalProperties:
                              type: array
                              items:
                                type: string
                          realm:
                            description: Realm roles
                            type: array
                            items:
                              type: string
                      containerId:
                        description: Container Id
                        type: string
                      description:
                        description: Description
                        type: string
                      id:
                        description: Id
                        type: string
                      name:
                        description: Name
                        type: string
                  x-kubernetes-list-map-keys:
                    - name
                  x-kubernetes-list-type: map
                scopeMappings:
                  description: Scope Mappings
                  type: object
                  properties:
                    clientMappings:
                      description: Client Mappings
                      type: object
                      additionalProperties:
                        description: >-
                          https://www.keycloak.org/docs-api/11.0/rest-api/index.html#_clientmappingsrepresentation
                        type: object
                        properties:
                          client:
                            description: Client
                            type: string
                          id:
                            description: ID
                            type: string
                          mappings:
                            description: Mappings
                            type: array
                            items:
                              description: >-
                                https://www.keycloak.org/docs-api/11.0/rest-api/index.html#_rolerepresentation
                              type: object
                              required:
                                - name
                              properties:
                                attributes:
                                  description: Role Attributes
                                  type: object
                                  additionalProperties:
                                    type: array
                                    items:
                                      type: string
                                clientRole:
                                  description: Client Role
                                  type: boolean
                                composite:
                                  description: Composite
                                  type: boolean
                                composites:
                                  description: Composites
                                  type: object
                                  properties:
                                    client:
                                      description: 'Map client => []role'
                                      type: object
                                      additionalProperties:
                                        type: array
                                        items:
                                          type: string
                                    realm:
                                      description: Realm roles
                                      type: array
                                      items:
                                        type: string
                                containerId:
                                  description: Container Id
                                  type: string
                                description:
                                  description: Description
                                  type: string
                                id:
                                  description: Id
                                  type: string
                                name:
                                  description: Name
                                  type: string
                    realmMappings:
                      description: Realm Mappings
                      type: array
                      items:
                        description: >-
                          https://www.keycloak.org/docs-api/11.0/rest-api/index.html#_rolerepresentation
                        type: object
                        required:
                          - name
                        properties:
                          attributes:
                            description: Role Attributes
                            type: object
                            additionalProperties:
                              type: array
                              items:
                                type: string
                          clientRole:
                            description: Client Role
                            type: boolean
                          composite:
                            description: Composite
                            type: boolean
                          composites:
                            description: Composites
                            type: object
                            properties:
                              client:
                                description: 'Map client => []role'
                                type: object
                                additionalProperties:
                                  type: array
                                  items:
                                    type: string
                              realm:
                                description: Realm roles
                                type: array
                                items:
                                  type: string
                          containerId:
                            description: Container Id
                            type: string
                          description:
                            description: Description
                            type: string
                          id:
                            description: Id
                            type: string
                          name:
                            description: Name
                            type: string
                serviceAccountClientRoles:
                  description: Service account client roles for this client.
                  type: object
                  additionalProperties:
                    type: array
                    items:
                      type: string
                serviceAccountRealmRoles:
                  description: Service account realm roles for this client.
                  type: array
                  items:
                    type: string
            status:
              description: >-
                KeycloakClientStatus defines the observed state of
                KeycloakClient
              type: object
              required:
                - message
                - phase
                - ready
              properties:
                message:
                  description: >-
                    Human-readable message indicating details about current
                    operator phase or error.
                  type: string
                phase:
                  description: Current phase of the operator.
                  type: string
                ready:
                  description: >-
                    True if all resources are in a ready state and all work is
                    done.
                  type: boolean
                secondaryResources:
                  description: >-
                    A map of all the secondary resources types and names created
                    for this CR. e.g "Deployment": [ "DeploymentName1",
                    "DeploymentName2" ]
                  type: object
                  additionalProperties:
                    type: array
                    items:
                      type: string
      subresources:
        status: {}
  conversion:
    strategy: None
